{"ast":null,"code":"export const filterDataByKeyValue = (data, key, value) => {\n  if (!data || !Array.isArray(data) || data.length === 0) {\n    console.log(\"Invalid or empty data provided.\");\n    return [];\n  }\n  console.log(`Filtering data for rows where ${key} is '${value}'`);\n  console.log(`Type of value: ${typeof value}`);\n  const filteredData = data.filter(row => {\n    if (key === 'year') {\n      // Check if row.date is present and valid\n      if (row.date) {\n        const rowYear = new Date(row.date).getFullYear();\n        console.log(`Row date: ${row.date}, extracted year: ${rowYear}`);\n        return rowYear === parseInt(value, 10); // Ensure we compare numbers\n      } else {\n        console.log(\"Row does not have a valid date:\", row);\n        return false;\n      }\n    } else {\n      // Regular filtering for other fields\n      return row[key] === value;\n    }\n  });\n  console.log(\"Filtered data:\", filteredData);\n  return filteredData;\n};","map":{"version":3,"names":["filterDataByKeyValue","data","key","value","Array","isArray","length","console","log","filteredData","filter","row","date","rowYear","Date","getFullYear","parseInt"],"sources":["C:/Users/User/Projects/QUT_IF717_webDevCapstone/Project/capstone-app/client/src/Components/Utils/dataProcessing.js"],"sourcesContent":["\r\n\r\n\r\nexport const filterDataByKeyValue = (data, key, value) => {\r\n    if (!data || !Array.isArray(data) || data.length === 0) {\r\n        console.log(\"Invalid or empty data provided.\");\r\n        return [];\r\n    }\r\n\r\n    console.log(`Filtering data for rows where ${key} is '${value}'`);\r\n    console.log(`Type of value: ${typeof value}`);\r\n\r\n    \r\n    const filteredData = data.filter(row => {\r\n        if (key === 'year') {\r\n            // Check if row.date is present and valid\r\n            if (row.date) {\r\n                const rowYear = new Date(row.date).getFullYear();\r\n                console.log(`Row date: ${row.date}, extracted year: ${rowYear}`);\r\n                return rowYear === parseInt(value, 10); // Ensure we compare numbers\r\n            } else {\r\n                console.log(\"Row does not have a valid date:\", row);\r\n                return false;\r\n            }\r\n        } else {\r\n            // Regular filtering for other fields\r\n            return row[key] === value;\r\n        }\r\n    });\r\n\r\n    console.log(\"Filtered data:\", filteredData);\r\n    return filteredData;\r\n};"],"mappings":"AAGA,OAAO,MAAMA,oBAAoB,GAAGA,CAACC,IAAI,EAAEC,GAAG,EAAEC,KAAK,KAAK;EACtD,IAAI,CAACF,IAAI,IAAI,CAACG,KAAK,CAACC,OAAO,CAACJ,IAAI,CAAC,IAAIA,IAAI,CAACK,MAAM,KAAK,CAAC,EAAE;IACpDC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;IAC9C,OAAO,EAAE;EACb;EAEAD,OAAO,CAACC,GAAG,CAAC,iCAAiCN,GAAG,QAAQC,KAAK,GAAG,CAAC;EACjEI,OAAO,CAACC,GAAG,CAAC,kBAAkB,OAAOL,KAAK,EAAE,CAAC;EAG7C,MAAMM,YAAY,GAAGR,IAAI,CAACS,MAAM,CAACC,GAAG,IAAI;IACpC,IAAIT,GAAG,KAAK,MAAM,EAAE;MAChB;MACA,IAAIS,GAAG,CAACC,IAAI,EAAE;QACV,MAAMC,OAAO,GAAG,IAAIC,IAAI,CAACH,GAAG,CAACC,IAAI,CAAC,CAACG,WAAW,CAAC,CAAC;QAChDR,OAAO,CAACC,GAAG,CAAC,aAAaG,GAAG,CAACC,IAAI,qBAAqBC,OAAO,EAAE,CAAC;QAChE,OAAOA,OAAO,KAAKG,QAAQ,CAACb,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;MAC5C,CAAC,MAAM;QACHI,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEG,GAAG,CAAC;QACnD,OAAO,KAAK;MAChB;IACJ,CAAC,MAAM;MACH;MACA,OAAOA,GAAG,CAACT,GAAG,CAAC,KAAKC,KAAK;IAC7B;EACJ,CAAC,CAAC;EAEFI,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEC,YAAY,CAAC;EAC3C,OAAOA,YAAY;AACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}